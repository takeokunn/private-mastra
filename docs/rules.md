# コーディングルール

## *SEARCH/REPLACE block* ルール:

すべての *SEARCH/REPLACE block* は以下の形式を使用する必要があります:
1. *完全な*ファイルパスを1行にそのまま記述します。太字のアスタリスク、引用符、文字のエスケープなどは使用しません。
2. 開始フェンスと言語、例: ````python
3. 検索ブロックの開始: <<<<<<< SEARCH
4. 既存のソースコード内で検索する連続した行のチャンク
5. 分割線: =======
6. ソースコードに置き換える行
7. 置換ブロックの終了: >>>>>>> REPLACE
8. 終了フェンス: ````

ユーザーが示した*完全な*ファイルパスを使用します。

**重要:** トリプルバッククォート ``` ではなく、*クアドラプル*バッククォート ```` をフェンスとして使用してください！

すべての *SEARCH* セクションは、コメント、docstringなどを含む既存のファイルの内容と、文字ごとに*完全に一致*する必要があります。
ファイルにjson/xml/引用符または他のコンテナでラップ/エスケープされたコードやその他のデータが含まれている場合、コンテナマークアップを含むファイルの文字通りの内容に対する編集を提案する必要があります。

*SEARCH/REPLACE* ブロックは、*最初の一致箇所のみ*を置き換えます。
必要に応じて、複数のユニークな *SEARCH/REPLACE* ブロックを含めます。
変更が必要な各行セットを一意に照合するために、各SEARCHセクションに十分な行を含めます。

*SEARCH/REPLACE* ブロックは簡潔に保ちます。
大きな *SEARCH/REPLACE* ブロックを、ファイルの小さな部分をそれぞれ変更する一連の小さなブロックに分割します。
変更する行のみを含め、一意性のために必要な場合はいくつかの周囲の行を含めます。
*SEARCH/REPLACE* ブロックに、変更されない長い行を含めないでください。

ユーザーがチャットに追加したファイルに対してのみ *SEARCH/REPLACE* ブロックを作成してください！

ファイル内でコードを移動するには、2つの *SEARCH/REPLACE* ブロックを使用します: 1つは現在の場所から削除するため、もう1つは新しい場所に挿入するためです。

ユーザーがどのファイル名を編集したいかに注意してください。特に新しいファイルの作成を依頼している場合。

新しいファイルにコードを入れたい場合は、以下の *SEARCH/REPLACE block* を使用します:
- 必要に応じてディレクトリ名を含む新しいファイルパス
- 空の `SEARCH` セクション
- 新しいファイルの内容を `REPLACE` セクションに

チャットに追加されたファイルの名前を変更するには、応答の最後にシェルコマンドを使用します。

ユーザーが単に "ok" や "go ahead" や "do that" のようなことを言った場合、彼らはおそらくあなたが提案したコード変更のためのSEARCH/REPLACEブロックを作成してほしいと思っています。
ユーザーは編集を適用したときに通知します。編集が適用されたことを明示的に確認していない場合、彼らはおそらく適切なSEARCH/REPLACEブロックを望んでいます。


**SEARCH/REPLACE BLOCK 内にのみコードを返してください！**

## シェルコマンドを提案する場合の例:

- 自己完結型のhtmlファイルを変更した場合、更新されたコンテンツを表示するためにブラウザを開くためのOSに適したコマンドを提案します。
- CLIプログラムを変更した場合、新しい動作を確認するためにそれを実行するコマンドを提案します。
- テストを追加した場合、プロジェクトで使用されているテストツールでそれを実行する方法を提案します。
- ファイル/ディレクトリの削除または名前変更、またはその他のファイルシステム操作のためのOSに適したコマンドを提案します。
- コード変更が新しい依存関係を追加する場合、それらをインストールするコマンドを提案します。
- など。

## TypeScript コーディング規約 (プロジェクトから抜粋)

既存のコードベース (`src/mastra/` 以下) で観察された主な規約は以下の通りです。

- **インポート/エクスポート:**
    - 名前付きインポート (`import { MyClass } from './myModule';`) を使用します。
    - 名前付きエクスポート (`export { myFunction };`) を使用します。
    - モジュール内の主要なエクスポートが1つの場合は、デフォルトエクスポート (`export default MyClass;`) も許容される場合がありますが、現在のコードでは名前付きエクスポートが優先されています。
- **変数宣言:**
    - 再代入されない変数の宣言には `const` を使用します。
    - 再代入が必要な場合にのみ `let` を使用します。
- **命名規則:**
    - クラス名と型名にはパスカルケース (PascalCase) を使用します (例: `Mastra`, `WeatherResponse`)。
    - 変数名、関数名、オブジェクトのプロパティ名にはキャメルケース (camelCase) を使用します (例: `weatherAgent`, `createLogger`, `temperature_2m`)。
- **オブジェクトリテラル:**
    - プロパティ名と変数名が同じ場合は、オブジェクトリテラルのショートハンドを使用します (例: `{ weatherAgent }` は `{ weatherAgent: weatherAgent }` と同等)。
- **パスエイリアス:**
    - 設定されている場合、よりクリーンなインポートのためにパスエイリアス (`@/` や `@mastra/` など) を使用します (例: `import { Mastra } from '@mastra/core/mastra';`)。
- **その他 (一般的なTypeScriptの慣習):**
    - 文字列リテラルにはシングルクォート (`'`) を使用する傾向があります (ただし、プロジェクト設定 (例: Prettier, Biome) に依存します)。
    - ステートメントの末尾にはセミコロン (`;`) を付けます (これもリンター/フォーマッター設定に依存します)。
